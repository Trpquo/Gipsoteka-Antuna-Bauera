@use 'vars' as *;

.textContent {
    figure {
        // animation: shrink .3s forwards;
        transition: opacity .3s;

        // @keyframes shrink {
        //     0% { opacity: .85; transform: translate(-50%, -50%) scale(.5); top: 50%; left: 50%; }
        //     99% { position: fixed;  }
        //     100% { position: static; top: 0; left: 0; opacity: 1; z-index: 1; max-width: 100%; }
        // }
        div {
            overflow: hidden;
            cursor: none;
            position: relative;
    
        }
        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: var(--basic-image-filter);
        }

        figcaption {
            @include captions;
            .short {
                display: inline;
            }
            .long {
                display: none;
            }
        }

        &.lightboxtime {
            
            position: fixed; 
            inset: 0;
            top: 40%; 
            left: 40%; 
            max-width: none !important;
            max-height: none !important;
            aspect-ratio: unset;
            background-color: var(--bg-dark);
            
            animation: zoom .5s forwards;
            z-index: 9000;
            
            display: flex;
            flex-direction: column;
            aspect-ratio: unset !important;


            div {
                flex-grow: 1;
                display: grid;
                place-items: center;
                padding: 1rem 0;
            }

            img {
                display: block;
                width: 90%;
                height: 100%;
                object-fit: contain;
                filter: grayscale(.2) contrast(.7);

                @include for-desktop {
                    width: 80%;
                }
            }


            figcaption {
                @include basic-padding;
                margin: 0 calc( var(--default-padding) * -1 );
                box-sizing: content-box;
                @include light-text-on-dark;
                text-align: center;
                text-shadow: none;
                
                .short {
                    display: none;
                }
                .long {
                    display: inline;
                    font-size: var(--quote-size);
                }
            }

            @keyframes zoom {
                0% { transform: translate(-50%, -50%) scale(.25); opacity: .85; }
                100% { 
                    top: 0; left: 0;
                    transform: none;
                    opacity: 1;  
                }
            }
            
        }

    }

    .showbox {
        display: flex;
        margin: var(--default-padding) 0 var(--large-padding);
        justify-content: center;
        gap: 1rem;        
        
        figure {
            @include dark-text-on-light;
            max-width: 800px;
            // max-height: 70vh;
            padding:  min( var(--default-padding), 1rem);
            padding-bottom: 0;
            box-shadow: .05rem .15rem .3rem #3332;
            display: flex;
            flex-direction: column;
            flex: 1;
            
            &.lightboxtime {
                @include light-text-on-dark;
                max-width: none;
                border-top: .5rem solid var(--bg-color-light);
            }

            div {
                flex-grow: 1;
            }

        
            figcaption {
                padding: var(--default-padding) 0;
            }
        }

        &.for2 figure {
            max-width: 50%;
            // max-height: 40vh;
        }
        &.for3 figure {
            max-width: 33%;
            // max-height: 32vh;
        }
        &.for4 {
            flex-wrap: wrap;
            figure {
                max-width: 25%;
                aspect-ratio: 3/4;
                @include for-mini {
                    min-width: 40%;
                    flex-grow: 1;
                }
            }
        }
        &.for5 figure {
            max-width: 20%;
        }
    }
}

/*  Galerija */

.gallery {
    display: flex;
    flex-wrap: wrap;
    align-content: flex-start;
    gap: .5rem;
    margin: 0;
    margin-bottom: var(--large-padding);
    
    
    h2 {
        display: none;
    }

    &.for1 {
        figure {
            max-height: 80vh;
            max-width: min(100%, 800px);
        }
    }
    
    figure {
        flex: 1 1 32%;
        display: flex;
        flex-direction: column;
        border-top: .5rem solid var(--bg-color-light);
        margin: 0;
        // max-width: 50%;
        max-height: 40vh;


        div {
            flex-grow: 1;
            overflow: hidden;

            img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
        }


        figcaption {
            padding: 1rem;
            width: 100%;
            background-color: var(--bg-color-light);
            color: var(--text-color-light);
        }
    }
    @include for-desktop {
        
        figure {
            flex-basis: 13rem;
            aspect-ratio: 1/1;
        }
    }
    @include for-mini {
        flex-direction: column;
        flex-wrap: nowrap;
        
        h2 {
            display: block;
        }
        figure {
            flex-grow: 0;
            max-width: none;
        }
    }

}